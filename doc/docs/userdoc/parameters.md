
# Parameters description

RealPaver behavior can be controlled using some parameters. These parameters are defined by the class [`Params`](../api/classrealpaver_1_1_params.md) implemented by the file [`src/realpaver/Params.hpp`](../api/_params_8hpp.md) and [`src/realpaver/Params.cpp`](../api/_params_8cpp.md). Parameters can be handled more globally with environments using the class [`Env`](../api/classrealpaver_1_1_env.md) like for the CSP solver.

Parameters can also be defined in a text file and a default one is provided in `src/realpaver/ParamFile`.

Parameters are (key,value) pairs and three types of values are supported: integer, double and string. String values may be included in a restricted list of words like `YES` or `NO` as well as names of available strategies.

Several categories of parameters can be defined:

- general ones, that mainly apply to global algorithms like the CSP solver, or that are common to most of mechanisms
- specific ones, that are dedicated to some mechanisms like the branching or splitting strategies, the linear solver configuration, etc.

## General parameters

- CERTIFICATION : Postprocessing of solution nodes
	- Domain:
		-  YES: handles clusters and provides certificate of proofs
		-  NO: no certification
	- Default value:  YES
- DISPLAY_REGION : Display of regions
	- Domain:
		-  STD: standard display with one variable and its domain per line
		-  VEC: display as a vector of domains
	- Default value:  STD
- FLOAT_PRECISION : Number of digits used to print floating-point numbers and intervals
	- Domain:  [1..16]
	- Default value:  12
- LOG_LEVEL : Log level
	- Domain:
		-  NONE: no log
		-  MAIN: main level e.g.display results of first
		-  INTER: intermediary level e.g.display nodes in a search algorithm
		-  LOW: low level e.g.display quantities in iterative methods
		-  FULL: verbose mode
	- Default value:  NONE
- PREPROCESSING : Preprocessing phase of the solving process
	- Domain:
		-  YES: simplification of problems before solving
		-  NO: no simplification
	- Default value:  YES
- TIME_LIMIT : Time limit in seconds
	- Domain:  [0, inf]
	- Default value:  3600
- TRACE : Log level
	- Domain:
		-  YES: display of a trace during a solving process
		-  NO: no trace
	- Default value:  YES
- TRACE_FREQUENCY : Trace displayed every N nodes where N is the value of this parameter
	- Domain:  [1..2147483647]
	- Default value:  1000
- VAR_ABS_TOL : Absolute tolerance on the width of an interval domain of a constrained variable
	- Domain:  [0, inf]
	- Default value:  1e-08
- VAR_REL_TOL : Relative tolerance on the width of an interval domain of a constrained variable
	- Domain:  [0, 1]
	- Default value:  0

## Branch-and-contract algorithms

- BB_SPACE_FREQUENCY : In a branch-and-bound algorithm, the next node can be either the node with the lowest lower bound or the node with the lowest upper bound (diving). The frequency manages the selection of the next node:   the node counter modulo the frequency is equal to 0.
	- Domain:  [1..2147483647]
	- Default value:  1
- BP_NODE_SELECTION : Exploration strategy for branch-and-prune algorithms   DFS stage is a node whose depth in the search tree is minimal   DFS stage is a node whose perimeter is maximal   a DFS stage is a node whose grid perimeter is maximal Assign SPLIT_INNER_BOX = true for DMDFS and the  hybrid DFS in order to calculate solutions at the given tolerance, and not to consider larger inner boxes as  solutions.
	- Domain:
		-  DFS: Depth
		-  BFS: Breadth
		-  DMDFS: Distant
		-  IDFS: hybrid Best
		-  PDFS: hybrid Best
		-  GPDFS: hybrid Best
	- Default value:  DFS
- DEPTH_LIMIT : Limit on the depth of nodes of search trees
	- Domain:  [1..2147483647]
	- Default value:  1000
- NODE_LIMIT : Limit on the number of nodes generated by search algorithms
	- Domain:  [1..2147483647]
	- Default value:  1000000
- SOLUTION_CLUSTER_GAP : Limit on the gap between two solutions such that they are aggregated if they are close enough. The value is negative if no clustering is done; equal to 0.0 if two solutions are aggregated when they overlap; positive otherwise. A huge value may be used to calculate the hull of all the solutions.
	- Domain:  [-1, inf]
	- Default value:  1e-10
- SOLUTION_LIMIT : Limit on the number of solutions
	- Domain:  [1..2147483647]
	- Default value:  1000

## Splitting strategies

- SPLIT_INNER_BOX : An inner box can be considered as a solution or it can be split
	- Domain:
		-  YES: it is split
		-  NO: it is considered as a solution
	- Default value:  NO
- SPLIT_INTERVAL_POINT : An interval [a, b] is split in two parts at a+sip*(b-a) where 0 < sip < 1 denotes this parameter. For example, 0.5 corresponds to the midpoint.
	- Domain:  [0, 1]
	- Default value:  0.45
- SPLIT_OBJECTIVE : The objective function is represented by a variable and its domain can be split or not
	- Domain:
		-  YES: it is considered as any other variable
		-  NO: its domain is not split
	- Default value:  NO
- SPLIT_SELECTION : Variable selection strategy that chooses the next variable to split
	- Domain:
		-  RR: round
		-  LF: largest domain
		-  SF: smallest domain
		-  SSR: smear sum relative (using derivatives)
		-  SLF: integer variable with smallest first and then real variable
	- Default value:  SSR
- SPLIT_SLICING : Domain splitting strategy
	- Domain:
		-  BI: divides a domain in two parts
	- Default value:  BI

## Contractors and propagation

- BC3_ITER_LIMIT : Iteration limit for the iterative method of the BC3 contractor used to find the outermost zeros of a function in a given interval
	- Domain:  [1..2147483647]
	- Default value:  30
- BC3_PEEL_FACTOR : Peel factor for the BC3 contractor Given an interval [a, b] and the peel factor f, let w = (b - a) * (p / 100) be a ratio of the interval width. Then the consistency of the intervals [a, a+w] and [b-w, w] is checked in order to stop the search.
	- Domain:  [0, 100]
	- Default value:  2
- LOOP_CONTRACTOR_TOL : Tolerance that corresponds to a percentage of reduction of the width of a box driving the loop contractor.
	- Domain:  [0, 1]
	- Default value:  0.01
- PROPAGATION_BASE : Propagation strategy: the default one is a classical propagation algorithm that uses one contractor per constraint
	- Domain:
		-  HC4: HC4 contractor
		-  BC4: BC4 contractor
	- Default value:  HC4
- PROPAGATION_TOL : Tolerance that corresponds to a percentage of reduction of the width of a box driving propagation steps. Given two consecutive domains prev and next of some variable and tol the tolerance, a propagation on this variable occurs if we have (1 - width(next) / width(prev)) > tol.
	- Domain:  [0, 1]
	- Default value:  0.001
- PROPAGATION_WITH_ACID : Propagation with a ACID contractor
	- Domain:
		-  YES: with ACID
		-  NO: no ACID
	- Default value:  YES
- PROPAGATION_WITH_NEWTON : Propagation with the interval Newton method applied to a square system
	- Domain:
		-  YES: used
		-  NO: not used
	- Default value:  YES
- PROPAGATION_WITH_POLYTOPE_HULL : Propagation with a polytope hull contractor
	- Domain:
		-  YES: used
		-  NO: not used
	- Default value:  YES
- RELAXATION_EQ_TOL : Positive real number eps used to relax an equation c(x)=0 as |l(x)| <= eps where l(x) is generated by a relaxation method. The value 0.0 implies that a linear equation is generated.
	- Domain:  [0, inf]
	- Default value:  1e-10

## Polytope hull contractor

- POLYTOPE_HULL_AFFINE_APPROX : Approximation method that generates affine forms for the elementary functions
	- Domain:
		-  MINRANGE: MinRange approximation
		-  CHEBYSHEV: Chebyshev approximation
	- Default value:  CHEBYSHEV
- POLYTOPE_HULL_LOOP : Control of the application of the polytope hull contractor
	- Domain:
		-  YES: it is applied in a fixed
		-  NO: it is applied only once
	- Default value:  NO
- POLYTOPE_HULL_LOOP_TOL : Tolerance that corresponds to a percentage of reduction of the width of a box driving the fixed-point loop
	- Domain:  [0, 1]
	- Default value:  0.1
- POLYTOPE_HULL_RELAXATION : Relaxation method for the polytope hull contractor
	- Domain:
		-  AFFINE: use of affine forms
		-  TAYLOR: use of Taylor (mean value) forms
		-  AFFINE_TAYLOR: use of affine and Taylor (mean value) forms
	- Default value:  AFFINE
- POLYTOPE_HULL_TAYLOR_HANSEN : Use of Hansen's derivatives in the Taylor forms
	- Domain:
		-  YES: Hansen's derivatives
		-  NO: classical derivatives
	- Default value:  YES
- POLYTOPE_HULL_TAYLOR_RANDOM : Choice of corners in the Taylor-based relaxation
	- Domain:
		-  YES: random choice
		-  NO: default choice
	- Default value:  YES

## ACID contractor

- ACID_CT_RATIO : Gain ratio between two consecutive boxes handed by var3BCID contractors in ACID. It is used to adapt the number of var3BCID contractors that are applied in the contraction procedure.
	- Domain:  [0, 1]
	- Default value:  0.002
- ACID_CYCLE_LENGTH : Number of nodes in a learning phase and an exploitation phase of ACID
	- Domain:  [1..2147483647]
	- Default value:  1000
- ACID_HC4_TOL : Tolerance in that corresponds to a percentage of reduction of the width of a box driving propagation steps of the HC4 algorithm used in ACID. Given two consecutive domains prev and next of some variable and tol the tolerance, a propagation on this variable occurs if we have (1-width(next)/width(prev))>tol.
	- Domain:  [0, 1]
	- Default value:  0.1
- ACID_LEARN_LENGTH : Number of consecutive nodes handled in the learning phase of ACID
	- Domain:  [1..2147483647]
	- Default value:  50
- NB_SLICE_3B : Number of slices of a domain handled by var3B contractors
	- Domain:  [1..2147483647]
	- Default value:  7
- NB_SLICE_CID : Number of slices of a domain handled by varCID contractors
	- Domain:  [1..2147483647]
	- Default value:  3
- VAR3BCID_MIN_WIDTH : Threshold on the width of a variable domain used by var3BCID contractors
	- Domain:  [0, inf]
	- Default value:  1e-11

## Local optimization

- NLP_SOLVER_ALGORITHM :   NlOpt
	- Domain:
		-  DEFAULT: default algorithm
		-  NLOPT_NELDERMEAD: derivative
		-  NLOPT_BOBYQA: derivative
		-  NLOPT_MMA: gradient
		-  NLOPT_SLSQP: gradient
	- Default value:  DEFAULT
- NLP_SOLVER_ITER_LIMIT : Iteration limit
	- Domain:  [1..2147483647]
	- Default value:  100
- NLP_SOLVER_OBJ_ABS_TOL : Absolute tolerance on the objective function
	- Domain:  [0, inf]
	- Default value:  1e-08
- NLP_SOLVER_OBJ_REL_TOL : Relative tolerance on the objective function
	- Domain:  [0, 1]
	- Default value:  0.0001
- NLP_SOLVER_TIME_LIMIT : Time limit in seconds
	- Domain:  [0, inf]
	- Default value:  10

## Linear solvers

- GAUSSIAN_MIN_PIVOT : Threshold on the values of pivots in Gaussian elimination. A pivot must be strictly greater than this value.
	- Domain:  [0, inf]
	- Default value:  1e-08
- LP_FEAS_TOL : Absolute tolerance on the feasibility of constraints in the LP solver
	- Domain:  [0, inf]
	- Default value:  1e-08
- LP_ITER_LIMIT : Iteration limit of the LP solver
	- Domain:  [1..2147483647]
	- Default value:  100
- LP_TIME_LIMIT : Time limit in seconds of the LP solver
	- Domain:  [0, inf]
	- Default value:  100

## Interval methods

- GAUSS_SEIDEL_ITER_LIMIT : Iteration limit on the number of steps in the interval Gauss-Seidel method
	- Domain:  [1..2147483647]
	- Default value:  50
- GAUSS_SEIDEL_TOL : Tolerance that corresponds to a percentage of reduction  of the width of an interval vector. Given two consecutive domains prev and next of some variable and tol the tolerance, the method is iterated if we have (1-width(next)/width(prev))>tol.
	- Domain:  [0, 1]
	- Default value:  0.001
- INFLATION_CHI : Let x be an interval and let m(x) be its midpoint. An inflation of x returns m(x)+delta*(x-m(x))+chi*[-1,1]. The value of chi must be strictly greater than 0.0, which is necessary to inflate degenerated intervals.
	- Domain:  [0, inf]
	- Default value:  1e-12
- INFLATION_DELTA : Let x be an interval and let m(x) be its midpoint. An inflation of x returns m(x)+delta*(x-m(x))+chi*[-1,1]. The value of delta must be strictly greater than 1.0
	- Domain:  [1, inf]
	- Default value:  1.125
- NEWTON_CERTIFY_ITER_LIMIT : Iteration limit on the number of (outer) steps in the certification technique of the interval Newton method
	- Domain:  [1..2147483647]
	- Default value:  20
- NEWTON_ITER_LIMIT : Iteration limit on the number of (outer) steps in the contraction technique of the interval Newton method
	- Domain:  [1..2147483647]
	- Default value:  30
- NEWTON_TOL : Tolerance that corresponds to a percentage of reduction of the width of a box in the interval Newton method. Given two consecutive domains prev and next of some variable and tol the tolerance, the method is  iterated if we have (1-width(next)/width(prev))>tol.
	- Domain:  [0, 1]
	- Default value:  0.001
- NEWTON_WIDTH_LIMIT : Threshold on the width of an input box of the contraction method of the interval Newton method, which is not applied if the width of the box is strictly greater than this value.
	- Domain:  [0, inf]
	- Default value:  0.5
- UNI_NEWTON_ITER_LIMIT : Iteration limit of the univariate interval Newton method
	- Domain:  [1..2147483647]
	- Default value:  20

## Using the C++ API

Parameters are handled by the [`Params`](../api/classrealpaver_1_1_params.md) class. Below is an example of using this class:

```C++
#include <iostream>
#include "realpaver_api.hpp"

int main()
{
    // Create a Param instance with default values for pre-defined parameters
    Params prm;

    // Print the list of defined parameters with their values
    std::cout<<prm<<std::endl;

    // Change the integer parameter relating to the maximal depth of the search tree
    prm.setIntParam("DEPTH_LIMIT", 1000);
    // Change the double parameter relating to the time limit
    prm.setDblParam("TIME_LIMIT", 3.6e3);
    // Change the string parameter relating to the logging level
    prm.setStrParam("LOG_LEVEL", "MAIN");

    // Printing current value for double parameter relating to relative tolerance
    std::cout<<"Current relative tolerance: "<<prm.getDblParam("VAR_REL_TOL")<<std::endl;

    // Load parameters from a file
    prm.loadParam("my_params.txt");

    return 0;
}
```
